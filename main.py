import streamlit as st
import datetime

# 월+일 구간별 색상 추천 데이터 (한 달을 3~4 구간으로 나눔)
# 각 튜플: (start_day, end_day, 색상명, HEX, 설명)
birth_colors_by_day = {
    1: [
        (1, 10, "미드나잇 블루", "#191970", "깊고 차분한 신뢰감 있는 색"),
        (11, 20, "코발트 블루", "#0047AB", "밝고 신비로운 느낌"),
        (21, 31, "로열 블루", "#4169E1", "품위 있고 우아한 이미지"),
    ],
    2: [
        (1, 9, "아메시스트 퍼플", "#9966CC", "신비롭고 창의적인 분위기"),
        (10, 19, "라벤더", "#E6E6FA", "부드럽고 차분한 감성"),
        (20, 29, "바이올렛", "#8F00FF", "강렬하고 매혹적인 느낌"),
    ],
    3: [
        (1, 10, "민트 그린", "#98FF98", "상쾌하고 생동감 있는 색"),
        (11, 20, "라임 그린", "#32CD32", "활기차고 자연적인 이미지"),
        (21, 31, "제이드 그린", "#00A86B", "고급스럽고 안정적인 느낌"),
    ],
    4: [
        (1, 10, "살몬 핑크", "#FF91A4", "부드럽고 따뜻한 봄 느낌"),
        (11, 20, "피치", "#FFDAB9", "달콤하고 부드러운 이미지"),
        (21, 30, "코랄", "#FF7F50", "밝고 활기찬 색감"),
    ],
    5: [
        (1, 10, "에메랄드 그린", "#50C878", "생명력 있고 고급스러운 인상"),
        (11, 20, "페리윙클 블루", "#CCCCFF", "신비롭고 평화로운 느낌"),
        (21, 31, "올리브 그린", "#808000", "안정감 있고 자연 친화적인 색"),
    ],
    6: [
        (1, 10, "스카이 블루", "#87CEEB", "청량하고 자유로운 감성"),
        (11, 20, "터쿼이즈", "#40E0D0", "시원하고 상쾌한 이미지"),
        (21, 30, "민트", "#3EB489", "자연스럽고 편안한 느낌"),
    ],
    7: [
        (1, 10, "루비 레드", "#9B111E", "강렬하고 열정적인 이미지"),
        (11, 20, "체리 레드", "#DE3163", "밝고 사랑스러운 분위기"),
        (21, 31, "버건디", "#800020", "성숙하고 고급스러운 느낌"),
    ],
    8: [
        (1, 10, "코랄 오렌지", "#FF7F50", "밝고 활기찬 에너지"),
        (11, 20, "살구색", "#FBCEB1", "부드럽고 따뜻한 색감"),
        (21, 31, "호박색", "#FFBF00", "풍요롭고 따뜻한 느낌"),
    ],
    9: [
        (1, 10, "올리브 그린", "#808000", "안정감 있고 자연 친화적인 색"),
        (11, 20, "카키", "#F0E68C", "자연적이고 편안한 분위기"),
        (21, 30, "머스타드", "#FFDB58", "밝고 활발한 느낌"),
    ],
    10: [
        (1, 10, "인디고", "#4B0082", "신비롭고 지적인 분위기"),
        (11, 20, "퍼플", "#800080", "고급스럽고 창의적인 색"),
        (21, 31, "진한 바이올렛", "#9400D3", "강렬하고 깊이 있는 이미지"),
    ],
    11: [
        (1, 10, "마룬 와인", "#800000", "깊이 있고 성숙한 인상"),
        (11, 20, "브릭 레드", "#CB4154", "따뜻하고 안정적인 색"),
        (21, 30, "초콜릿 브라운", "#7B3F00", "편안하고 진중한 느낌"),
    ],
    12: [
        (1, 10, "스노우 화이트", "#FFFAFA", "순수하고 포근한 느낌"),
        (11, 20, "실버 그레이", "#C0C0C0", "세련되고 모던한 이미지"),
        (21, 31, "아이보리", "#FFFFF0", "부드럽고 따뜻한 색감"),
    ],
}

def get_color(month, day):
    day_ranges = birth_colors_by_day.get(month, [])
    for start_day, end_day, name, hex_code, desc in day_ranges:
        if start_day <= day <= end_day:
            return name, hex_code, desc
    # 기본값
    return "검정색", "#000000", "정보 없음"

st.title("🎂 생일로 알아보는 당신만의 컬러 추천")
st.write("생일(월+일)에 따라 어울리는 색을 추천해드려요!")

birth_date = st.date_input("생일을 선택하세요", value=datetime.date(2000, 1, 1))

if birth_date:
    name, hex_code, desc = get_color(birth_date.month, birth_date.day)
    
    st.subheader(f"🎨 추천 색상: {name}")
    st.write(f"설명: {desc}")
    st.write(f"HEX 코드: `{hex_code}`")
    
    st.markdown(
        f"""
        <div style='width:100%;height:120px;
                    background-color:{hex_code};
                    border-radius:10px;
                    border:2px solid #ccc;
                    margin-top:10px;'>
        </div>
        """,
        unsafe_allow_html=True
    )
